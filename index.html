<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vykortsbutik - Konstverk som vykort</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage-50: #f6f7f6;
            --sage-100: #e3e7e3;
            --sage-200: #c7d0c7;
            --sage-300: #a1b2a1;
            --sage-400: #7a917a;
            --sage-500: #5d755d;
            --sage-600: #495d49;
            --sage-700: #3c4c3c;
            --sage-800: #323f32;
            --sage-900: #2b352b;
            
            --terracotta-50: #fdf6f3;
            --terracotta-100: #fae9e1;
            --terracotta-200: #f4d5c4;
            --terracotta-300: #ecb892;
            --terracotta-400: #e19658;
            --terracotta-500: #d4722a;
            --terracotta-600: #c05621;
            --terracotta-700: #9f4219;
            --terracotta-800: #823618;
            --terracotta-900: #6b3017;
            
            --charcoal: #2c2c2c;
            --warm-white: #fefefe;
            --soft-gray: #f8f9fa;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--warm-white);
            color: var(--charcoal);
            line-height: 1.6;
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .bg-sage-50 { background-color: var(--sage-50); }
        .bg-sage-100 { background-color: var(--sage-100); }
        .bg-terracotta-600 { background-color: var(--terracotta-600); }
        .bg-terracotta-700 { background-color: var(--terracotta-700); }
        .text-sage-600 { color: var(--sage-600); }
        .text-sage-700 { color: var(--sage-700); }
        .text-sage-800 { color: var(--sage-800); }
        .text-terracotta-600 { color: var(--terracotta-600); }
        .text-terracotta-700 { color: var(--terracotta-700); }
        .border-sage-200 { border-color: var(--sage-200); }
        .border-sage-300 { border-color: var(--sage-300); }
        
        .hero-gradient {
            background: linear-gradient(135deg, var(--sage-50) 0%, var(--terracotta-50) 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .postcard-image-wrapper {
            position: relative;
            width: 100%;
            overflow: hidden;
            border-radius: 0.75rem;
        }
        
        .postcard-image-wrapper.portrait {
            padding-top: 141.42%;
        }
        
        .postcard-image-wrapper.landscape {
            padding-top: 70.71%;
        }
        
        .postcard-image-wrapper img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s ease;
        }
        
        .postcard-card:hover .postcard-image-wrapper img {
            transform: scale(1.05);
        }
        
        .btn-primary {
            background-color: var(--terracotta-600);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            background-color: var(--terracotta-700);
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background-color: var(--sage-100);
            color: var(--sage-700);
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background-color: var(--sage-200);
            color: var(--sage-800);
        }
        
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background-color: var(--warm-white);
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .modal-close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            font-weight: 300;
            cursor: pointer;
            color: var(--sage-600);
            transition: color 0.2s ease;
        }
        
        .modal-close-btn:hover {
            color: var(--sage-800);
        }
        
        .confirmation-message {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--terracotta-600);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .confirmation-message.active {
            opacity: 1;
        }
        
        .news-item {
            border-left: 4px solid var(--terracotta-600);
            background-color: var(--terracotta-50);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .filter-select {
            background-color: var(--warm-white);
            border: 2px solid var(--sage-200);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            color: var(--charcoal);
            transition: border-color 0.2s ease;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: var(--terracotta-600);
        }
        
        .price-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background-color: var(--sage-100);
            color: var(--sage-700);
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .sale-badge {
            background-color: var(--terracotta-600);
            color: white;
        }
        
        .cart-count {
            background-color: var(--terracotta-600);
            color: white;
            font-size: 0.75rem;
            border-radius: 9999px;
            min-width: 1.25rem;
            height: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -0.5rem;
            right: -0.5rem;
        }
        
        .section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--sage-200), transparent);
            margin: 3rem 0;
        }
        
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }
        }
        .tag-badge {
            display: inline-block;
            font-size: 0.7rem;
            background-color: var(--sage-100);
            color: var(--sage-700);
            padding: 2px 8px;
            border-radius: 12px;
            margin-right: 4px;
            margin-bottom: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tag-badge:hover {
            background-color: var(--terracotta-600);
            color: white;
        }
        .active-tag-filter {
            background-color: var(--terracotta-600) !important;
            color: white !important;
        }
        #active-filters-container {
            text-align: center;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b border-sage-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <h1 class="font-display text-2xl font-bold text-sage-800">Vykortsbutik</h1>
                    <span class="text-xs text-sage-600 bg-sage-100 px-2 py-1 rounded-full">v2.09</span>
                </div>
                
                <nav class="flex items-center space-x-6">
                    <button id="cart-btn" class="relative p-2 text-sage-600 hover:text-terracotta-600 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                        <span id="cart-count" class="cart-count">0</span>
                    </button>
                    
                    <div id="user-status" class="text-sm">
                        <a href="#" id="login-link" class="text-sage-600 hover:text-terracotta-600 transition-colors font-medium">Logga in</a>
                    </div>
                    
                    <a href="admin.html" id="nav-admin-link" class="text-sage-600 hover:text-terracotta-600 transition-colors text-sm font-medium hidden">Admin</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section class="hero-gradient py-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="font-display text-5xl font-bold text-charcoal mb-6">
                        Konstverk som vykort
                    </h2>
                    <p class="text-lg text-sage-700 mb-8 leading-relaxed">
                        Du kan beställa vilket som helst av mina konstverk som vykort till vem som helst i världen! 
                        Alla vykort trycks och skickas från ett professionellt tryckeri i Sverige.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
                        <div class="bg-white/60 backdrop-blur-sm p-6 rounded-xl">
                            <h3 class="font-display text-xl font-semibold text-charcoal mb-3">Storlekar</h3>
                            <ul class="space-y-2 text-sm text-sage-700">
                                <li><strong>Liten:</strong> A6 (105 × 148 mm)</li>
                                <li><strong>Mellan:</strong> A5 (148 × 210 mm)</li>
                                <li><strong>Stor:</strong> A4 (210 × 297 mm)</li>
                            </ul>
                        </div>
                        
                        <div class="bg-white/60 backdrop-blur-sm p-6 rounded-xl">
                            <h3 class="font-display text-xl font-semibold text-charcoal mb-3">Leveranstid</h3>
                            <p class="text-sm text-sage-700">
                                3 till 15 dagar, beroende på destination. 
                                <a href="#contact" class="text-terracotta-600 hover:underline">Kontakta mig</a> 
                                för en mer exakt uppskattning.
                            </p>
                        </div>
                        
                        <div class="bg-white/60 backdrop-blur-sm p-6 rounded-xl">
                            <h3 class="font-display text-xl font-semibold text-charcoal mb-3">Betalning</h3>
                            <p class="text-sm text-sage-700">
                                Betala enkelt med Swish när du lagt din beställning. 
                                Du får all information i kassan.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="news-section" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 hidden">
            <div class="section-divider"></div>
            <h2 class="font-display text-3xl font-bold text-center mb-8">Nyheter</h2>
            <div id="news-list" class="max-w-4xl mx-auto">
                </div>
            <div class="section-divider"></div>
        </div>

        <section id="highlight-section" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
            <div class="relative bg-white rounded-xl shadow-lg overflow-hidden border border-sage-200">
                <div id="carousel-container" class="relative min-h-[400px] md:h-[500px] flex items-center bg-sage-50">
                    </div>

                <button id="carousel-prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-sage-800 p-3 rounded-full shadow-md transition-all z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <button id="carousel-next" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-sage-800 p-3 rounded-full shadow-md transition-all z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
                
                <div id="carousel-dots" class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-10">
                    </div>
            </div>

            <div class="section-divider"></div>
            
        </section>

        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
                <h2 class="font-display text-4xl font-bold">Vykort</h2>
                <div class="min-w-[200px]">
                    <label for="group-filter" class="block text-sm font-medium text-sage-700 mb-2">Filtrera efter grupp</label>
                    <select id="group-filter" class="filter-select w-full">
                        <option value="all">Alla grupper</option>
                    </select>
                </div>
            </div>
            <div id="active-filters-container" class="hidden">
                <span class="text-sage-700 mr-2">Visar tagg: <strong id="current-tag-name"></strong></span>
                <button onclick="clearTagFilter()" class="text-xs underline text-red-500 hover:text-red-700">Rensa filter</button>
            </div>
            <div id="postcards-list">
                <div class="text-center py-12">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-terracotta-600"></div>
                    <p class="text-sage-600 mt-4">Laddar vykort...</p>
                </div>
            </div>
        </section>
    </main>
    
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span id="close-cart-modal" class="modal-close-btn">&times;</span>
            <h2 class="font-display text-2xl font-bold mb-6">Varukorg</h2>
            <div id="cart-items" class="space-y-4 mb-6">
                <p class="text-sage-600 text-center py-8">Varukorgen är tom</p>
            </div>
            <div id="cart-summary" class="border-t border-sage-200 pt-4">
                <div class="flex justify-between items-center mb-2 text-sm">
                    <span>Totalt (exkl. rea):</span>
                    <span id="cart-subtotal" class="font-medium">0 kr</span>
                </div>
                <div id="cart-total-discount-container" class="flex justify-between items-center mb-2 text-sm text-green-600 hidden">
                    <span>Rabatt på hela korgen:</span>
                    <span id="cart-total-discount">-0 kr</span>
                </div>
                <div id="cart-rounding-container" class="flex justify-between items-center mb-2 text-sm text-sage-600 hidden">
                    <span>Öresutjämning:</span>
                    <span id="cart-rounding">0 kr</span>
                </div>
                <div class="flex justify-between items-center mb-4 text-lg font-semibold">
                    <span>Att betala:</span>
                    <span id="cart-total" class="text-terracotta-600">0 kr</span>
                </div>
                <div class="flex gap-3">
                    <button id="clear-cart-btn" class="btn-secondary flex-1">Töm varukorg</button>
                    <button id="checkout-btn" class="btn-primary flex-1">Gå till kassan</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="postcardModal" class="modal">
        <div class="modal-content max-w-4xl">
            <span id="close-postcard-modal" class="modal-close-btn">&times;</span>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="flex flex-col">
                    <div id="modal-image-wrapper" class="w-full mb-4 postcard-image-wrapper">
                        <img id="modal-image" src="" alt="" class="w-full h-auto rounded-lg">
                    </div>
                    <h3 id="modal-title" class="font-display text-2xl font-bold text-center"></h3>
                </div>
                <div id="modal-form-section">
                    <form id="add-to-cart-form" class="space-y-6">
                        <input type="hidden" id="modal-postcard-id">
                        <input type="hidden" id="modal-cart-item-index">
                        
                        <div>
                            <label class="block text-sm font-medium text-sage-700 mb-3">Välj storlek:</label>
                            <div id="modal-size-options" class="space-y-2"></div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-sage-700 mb-3">Skickas till:</label>
                            <div class="space-y-3">
                                <input type="text" id="modal-recipient-name" name="recipientName" placeholder="Namn" required 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <input type="text" id="modal-recipient-address" name="recipientAddress" placeholder="Adress" required 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <input type="text" id="modal-recipient-address2" name="recipientAddress2" placeholder="Adress 2 (valfritt)" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="text" id="modal-recipient-zip" name="recipientZip" placeholder="Postadress" required 
                                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                    <input type="text" id="modal-recipient-city" name="recipientCity" placeholder="Ort" required 
                                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                </div>
                                <input type="text" id="modal-recipient-country" name="recipientCountry" placeholder="Land" required 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                            </div>
                        </div>
                        
                        <div>
                            <label for="modal-message-text" class="block text-sm font-medium text-sage-700 mb-3">Text på kort:</label>
                            <textarea id="modal-message-text" name="messageText" rows="4" placeholder="Skriv din personliga hälsning här..." 
                                      class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent resize-none"></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary w-full">Lägg i varukorgen</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div id="userModal" class="modal">
        <div class="modal-content max-w-md">
            <span id="close-user-modal" class="modal-close-btn">&times;</span>
            <h2 class="font-display text-2xl font-bold mb-6 text-center" id="user-modal-title">Logga in</h2>
            <div id="user-form-container">
                <form id="login-form" class="space-y-4">
                    <input type="email" id="login-email" placeholder="E-postadress" required 
                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                    <input type="password" id="login-password" placeholder="Lösenord" required 
                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                    <button type="submit" class="btn-primary w-full">Logga in</button>
                </form>
                
                <button id="register-switch" class="w-full text-terracotta-600 hover:underline text-sm font-medium mt-4">
                    Har du inget konto? Skapa ett här!
                </button>
                
                <form id="register-form" class="space-y-4 hidden">
                    <input type="text" id="register-username" placeholder="Användarnamn" required 
                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                    <input type="email" id="register-email" placeholder="E-postadress" required 
                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                    <input type="password" id="register-password" placeholder="Lösenord" required 
                           class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                    <button type="submit" class="btn-primary w-full">Skapa konto</button>
                </form>
                
                <button id="login-switch" class="w-full text-terracotta-600 hover:underline text-sm font-medium mt-4 hidden">
                    Har du redan ett konto? Logga in här!
                </button>
            </div>
        </div>
    </div>

    <div id="checkoutModal" class="modal">
        <div class="modal-content max-w-3xl">
            <span id="close-checkout-modal" class="modal-close-btn">&times;</span>
            <h2 class="font-display text-2xl font-bold mb-6">Kassa</h2>
            <div id="checkout-content">
                <div id="checkout-start-section" class="card-hover bg-sage-50 p-8 rounded-xl text-center">
                    <h3 class="font-display text-xl font-semibold mb-4">Fortsätt till kassan</h3>
                    <p class="text-sage-700 mb-6">Vill du logga in för att spara din orderhistorik, eller fortsätta som gäst?</p>
                    <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                        <button id="guest-checkout-btn" class="btn-secondary flex-1">Fortsätt som gäst</button>
                        <button id="login-checkout-btn" class="btn-primary flex-1">Logga in / Skapa konto</button>
                    </div>
                </div>

                <div id="checkout-login-section" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="card-hover bg-sage-50 p-6 rounded-xl">
                            <h4 class="font-display text-lg font-semibold mb-4">Logga in</h4>
                            <form id="checkout-login-form" class="space-y-4">
                                <input type="email" id="checkout-login-email" placeholder="E-postadress" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <input type="password" id="checkout-login-password" placeholder="Lösenord" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <button type="submit" class="btn-primary w-full">Logga in</button>
                            </form>
                        </div>
                        
                        <div class="card-hover bg-sage-50 p-6 rounded-xl">
                            <h4 class="font-display text-lg font-semibold mb-4">Skapa konto</h4>
                            <form id="checkout-register-form" class="space-y-4">
                                <input type="text" id="checkout-register-username" placeholder="Användarnamn" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <input type="email" id="checkout-register-email" placeholder="E-postadress" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <input type="password" id="checkout-register-password" placeholder="Lösenord" 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                                <button type="submit" class="btn-primary w-full">Skapa konto</button>
                            </form>
                        </div>
                    </div>
                </div>

                <div id="order-history-section" class="hidden">
                    <h3 class="font-display text-xl font-semibold mb-4">Tidigare ordrar</h3>
                    <div id="order-history-list">
                        <p class="text-sage-600 text-center py-8">Inga tidigare ordrar hittades.</p>
                    </div>
                </div>

                <div id="billing-info-section" class="hidden">
                    <h3 class="font-display text-xl font-semibold mb-6">Dina uppgifter</h3>
                    <form id="billing-info-form" class="space-y-4 max-w-2xl">
                        <div>
                            <label for="billing-name" class="block text-sm font-medium text-sage-700 mb-2">Namn</label>
                            <input type="text" id="billing-name" required 
                                   class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                        </div>
                        <div>
                            <label for="billing-address" class="block text-sm font-medium text-sage-700 mb-2">Adress</label>
                            <input type="text" id="billing-address" required 
                                   class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label for="billing-zip" class="block text-sm font-medium text-sage-700 mb-2">Postnummer</label>
                                <input type="text" id="billing-zip" required 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                            </div>
                            <div>
                                <label for="billing-city" class="block text-sm font-medium text-sage-700 mb-2">Ort</label>
                                <input type="text" id="billing-city" required 
                                       class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                            </div>
                        </div>
                        <div>
                            <label for="billing-mobile" class="block text-sm font-medium text-sage-700 mb-2">Mobilnummer</label>
                            <input type="tel" id="billing-mobile" required 
                                   class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                        </div>
                        <div>
                            <label for="billing-email" class="block text-sm font-medium text-sage-700 mb-2">E-postadress</label>
                            <input type="email" id="billing-email" required 
                                   class="w-full p-3 border border-sage-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="btn-primary w-full">Slutför beställning</button>
                    </form>
                </div>
                
                <div id="order-confirmation-section" class="hidden text-center">
                    <div class="bg-green-50 p-8 rounded-xl">
                        <h3 class="font-display text-2xl font-bold text-green-700 mb-4">Din beställning är mottagen!</h3>
                        <p class="text-sage-700 mb-4">Din beställning är nu mottagen och avvaktar betalning innan den skickas.</p>
                        
                        <div class="bg-white p-6 rounded-lg mb-6 max-w-md mx-auto">
                            <p class="text-sm text-sage-600 mb-2">Betalning kan ske via Swish till:</p>
                            <p class="font-bold text-lg text-charcoal">
                                <span id="swish-number-display">070-224 90 15</span> 
                                (<span id="swish-name-display">Mats Jonsson</span>)
                            </p>
                            <div class="mt-4 space-y-2 text-sm">
                                <p>Ordernummer: <strong class="font-mono" id="order-id-display"></strong></p>
                                <p>Summa att betala: <strong id="order-total-display"></strong> kr</p>
                            </div>
                        </div>
                        
                        <div id="swish-qr-container" class="flex flex-col items-center">
                            <p class="text-sm font-medium text-sage-700 mb-3">Skanna QR-koden för att betala direkt:</p>
                            <div id="swish-qr-code" class="w-48 h-48 bg-white border-2 border-sage-200 rounded-lg flex items-center justify-center">
                                <span class="text-sage-400 text-sm">QR-kod genereras...</span>
                            </div>
                        </div>
                        
                        <p class="text-sm text-sage-600 mt-6 max-w-md mx-auto">
                            Ett mail med betalningsinformation kommer skickas, och vi uppdaterar dig med statusändringar. 
                            Om du skapade ett konto kommer statusen även uppdateras där.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="errorModal" class="modal">
        <div class="modal-content max-w-sm">
            <h3 id="error-modal-title" class="font-display text-xl font-bold text-red-600 mb-4">Ett fel uppstod</h3>
            <p id="error-modal-message" class="text-sage-700 mb-6"></p>
            <button id="close-error-modal" class="btn-primary w-full">OK</button>
        </div>
    </div>
    
    <div id="confirmation-toast" class="confirmation-message">
        Vara tillagd i varukorgen!
    </div>

    <footer class="bg-sage-50 border-t border-sage-200 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <p class="text-sage-600 text-sm">&copy; 2026 Vykortsbutik. Alla rättigheter förbehållna.</p>
                <p class="text-sage-500 text-xs mt-2">Konstverk trycks och skickas från professionellt tryckeri i Sverige</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script type="module" src="index-functions.js"></script>
</body>
</html>